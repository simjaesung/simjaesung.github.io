{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/js-array/","result":{"data":{"markdownRemark":{"html":"<p>얼마 전에 재미있는 이야기를 들었습니다.</p>\n<blockquote>\n<p><em>JavaScript의 배열 요소로는 문자, 숫자, 객체, 배열 심지어 함수까지 들어갈 수 있는데 어떻게 인덱스 접근 시간 복잡도 O(1)이 보장될까요?</em></p>\n</blockquote>\n<p>기존에 제가 알고 있는 배열 자료구조의 특성과 완전히 거리가 멀어 보였습니다.</p>\n<p>배열이란 보통 동일한 타입의 데이터가 연속된 메모리 공간에 저장되어, 특정 인덱스로 빠르게 접근할 수 있는 구조라고 알고 있었기 때문입니다.</p>\n<p>그런데 JavaScript의 배열은 다양한 타입의 요소들로 이루어져도 어떻게 배열의 기본적인 특징과 성능을 유지할 수 있는지 궁금해져 해당 주제로 글을 작성하게 되었습니다.</p>\n<br/>\n<h2><strong>O(1) 시간 복잡도의 의미와 중요성</strong></h2>\n<p>O(1) 시간 복잡도는 상수 시간을 의미하며, 입력 크기와 상관없이 항상 일정한 시간 내에 작업을 수행하는 것을 말합니다. 즉, 데이터의 양이 많아져도 총 실행 시간에 영향을 주지않는 것이 중요한 특징입니다. 실행 시간 제한이 있는 알고리즘을 문제를 해결하는 과정에서, 많은 분들이 O(1)의 소중함을 많이 느끼셨을 것 같습니다.</p>\n<p><strong>배열의 인덱스 접근</strong>은 O(1) 연산의 대표적인 예입니다. 배열이 효율적인 자료구조로 널리 사용되는 이유 중 하나는 바로 인덱스를 통한 빠른 접근입니다. O(1)의 중요성은 <strong>빠르고 예측 가능한 성능을 제공</strong>한다는 점에 있습니다. 입력 크기가 커지더라도 일정한 시간 내에 작업을 처리할 수 있으며, 다른 작업과 동시에 수행되더라도 일관된 성능을 보장합니다.</p>\n<br/>\n<h2>일반적인 배열과 JavaScript 배열의 차이</h2>\n<h3>일반적인 배열 구조 : <strong>밀집 배열(Dense Array)</strong></h3>\n<p>자료구조(data structure)에서 흔히 말하는 배열은 동일한 크기의 메모리 공간이 연속적으로 나열된 자료구조를 말합니다. 이러한 배열을 흔히 **밀집 배열(Dense Array)**이라고 합니다.</p>\n<p>C/C++ 언어에서의 정적 배열 선언 코드로 이를 설명할 수 있습니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"cpp\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">int</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> arr[</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">4</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">];</span></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.061349693251532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPklEQVR42k2R4U6DMBSFef8n0ImbPoX+M9Hoj0XdBmzG4aZLlg0YCCkU2tJyvHQh8SY3vaf38tGeOsYYFHmOoiigtUZdMXDKPlqlwPIMHc0MOk2O0G1rNS+Zzf/h9MCcgGVZwhDQ253wtE4QRA2m2xQP3g7ve4bFgePtJ8fjao8ZaY/08/qIlzCGd+SYkY6ZhDOQhZRQosH9t8JoaeD6La48ietAwg3Otesr0tRfCNsfzWtMPgwuZxwXvsF0X8Ppus4CsyxDxQrcbSVGgcbNSsP1Grj00ZggY5/gi5o0x4T0ZEk/mVd27nZFcF/jtQf2sP7aQgiqOhyYwmfSYJ1wfCU1wriilSNMaI0ZZUl1ic2pwob2tmlje2Eq8MvbM7B/jCiKoMh0az6ZrsiCIYzRdmYIKYU9hA26oSSrhkf5A0xFvzfGmGbqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1.png\"\n        title=\"\"\n        src=\"/static/65fedf9a6f028b61c96bcc2d92292c03/a6d36/2.png\"\n        srcset=\"/static/65fedf9a6f028b61c96bcc2d92292c03/222b7/2.png 163w,\n/static/65fedf9a6f028b61c96bcc2d92292c03/ff46a/2.png 325w,\n/static/65fedf9a6f028b61c96bcc2d92292c03/a6d36/2.png 650w,\n/static/65fedf9a6f028b61c96bcc2d92292c03/e548f/2.png 975w,\n/static/65fedf9a6f028b61c96bcc2d92292c03/3c492/2.png 1300w,\n/static/65fedf9a6f028b61c96bcc2d92292c03/c1bea/2.png 1388w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 배열의 시작 주소를 5000이라고 가정하고 이를 시각적으로 표현해보면, 각 요소가 동일한 데이터 크기를 가지며 빈틈없이 연속적으로 나열되어 있습니다. 이러한 특성을 이용해 아래의 공식으로 특정 배열 요소에 빠르게 접근할 수 있습니다.</p>\n<p><strong>_검색 대상 요소의 메모리 주소 = 배열의 메모리 시작 주소 + 인덱스 _ 요소의 크기*</strong></p>\n<p>이 공식 덕분에 밀집 배열에서는 <strong>O(1)의 시간복잡도</strong>로 요소를 접근할 수 있습니다.</p>\n<ul>\n<li>인덱스가 2인 요소 = 5000 + 4 * 2</li>\n<li>인덱스가 3인 요소 = 5000 + 4 * 3</li>\n</ul>\n<p>이는 배열이 동일한 타입의 요소들로 구성되어 있기 때문에 가능한 것입니다.</p>\n<br/>\n<h3>JavaScript 배열의 구조</h3>\n<p>JavaScript의 배열은 위에서 설명한 일반적인 밀집 배열과는 다른 방식으로 동작합니다. JavaScript 배열은 다양한 타입의 요소를 담을 수 있으며, 각 요소의 메모리 크기가 달라도 상관이 없습니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;string&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">true</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">NaN</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">], { a: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> }]</span></span></span></code></pre>\n<p>이 배열에는 다양한 타입이 혼합되어있음에도 불구하고 이 배열의 인덱스 접근의 시간복잡도는 <strong>O(1)</strong> 입니다. 정말 신기하지 않나요?</p>\n<p>이는 JavaScript 배열이 내부적으로 <strong>숫자 인덱스를 가진 객체로 구현</strong>되었기 때문에 가능하다고 합니다. 혹시 JavaScript 배열의 타입 을 출력해보신 적 있으신가요?</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> []</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">typeof</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> arr) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//object</span></span></span></code></pre>\n<p>놀랍게도 배열의 타입은 <code>object</code>라고 출력이 됩니다.</p>\n<p><strong>그렇습니다. JavaScript에는 배열이라는 타입이 따로 존재하지 않습니다.</strong></p>\n<p><strong>JavaScript의 배열은 일반적인 배열의 동작을 흉내 낸 특수한 객체입니다.</strong></p>\n<p>아래 코드를 살펴보겠습니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> []</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">arr[</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">] </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr[</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr[</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;0&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//1</span></span></span></code></pre>\n<p><code>arr[0]</code> 과 <code>arr['0']</code> 이 동일한 출력을 합니다.</p>\n<p>배열의 인덱스가 실제로는 객체에서 하나의 프로퍼티로 취급한다고 볼 수 있겠습니다.</p>\n<p>신기하면서 약간 속은 것 같은 기분이 들기도 하네요.</p>\n<p><code>Object.getOwnPropertyDescriptors()</code> 를 통해 배열(객체)의 모든 속성에 대해 자세히 알아보겠습니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;string&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">false</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">function</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;hi&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Object</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">getOwnPropertyDescriptors</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;0&#39;: { value: 1, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;1&#39;: { value: &#39;string&#39;, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;2&#39;: { value: false, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;3&#39;: { value: [Function (anonymous)], writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  length: { value: 4, writable: true, enumerable: false, configurable: false }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">*/</span></span></span></code></pre>\n<p>이를 보고 아래와 같은 사실을 알 수 있겠군요.</p>\n<ul>\n<li>JavaScript의 배열은 인덱스를 문자열 형태로 프로퍼티로 키를 가진다.</li>\n<li>length라는 직접 할당하지 않은 특별한(?) 프로퍼티도 들어있다.</li>\n<li>그리고 배열의 요소도 사실 인덱스의 프로퍼티이다.\n<ul>\n<li>그래서 어떤 타입이던 배열의 요소가 될 수 있었던 것이다.</li>\n</ul>\n</li>\n</ul>\n<p>호기심이 발동하여 <code>console.log(arr['0'].value);</code> 해당 코드를 실행시켜보았지만, 다행히 <code>undefined</code>가 출력되었습니다. (요소가 출력되었으면 아마 혼란스러웠을 것 같아요.)</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr[</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;0&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">].value) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//undefined</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">descriptors</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Object</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">getOwnPropertyDescriptors</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(descriptors[</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;0&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">].value) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 1</span></span></span></code></pre>\n<br/>\n<h3>JavaScript 배열의 희소 배열(Sparse Array)</h3>\n<p>JavaScript 배열은 일반적인 밀집 배열뿐만 아니라 **희소 배열(Sparse Array)**의 특징도 가집니다.</p>\n<p>여기서 <strong>희소배열은</strong> 배열의 일부 인덱스가 <strong>비어 있는 상태</strong>로, 요소들이 <strong>연속적으로 채워져 있지 않은 배열</strong>을 말합니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, , </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, , </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">5</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span></code></pre>\n<p>배열을 선언한 문법이 참 이상해보이지만, JavaScript에서는 위와 같이 배열 선언이 가능합니다.</p>\n<p>위의 배열 <code>arr</code> 는 인덱스 <code>1</code>과 <code>3</code>이 <strong>비어 있는 상태</strong>이며**,** JavaScript는 이 비어 있는 인덱스를 <code>undefined</code> 로 간주합니다.</p>\n<p>다른 예제를 살펴보겠습니다.</p>\n<p>해당 배열은 길이는 101이지만 실제로 요소가 할당된 인덱스는 <code>0,1,2,100</code> 총 4개입니다. 이는 해당 인덱스 외에는 메모리 공간이 할당되지 않음을 뜻합니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">const</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">arr</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">arr[</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">100</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">] </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;test&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">length</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 101</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">arr.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">forEach</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">((</span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">value</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">index</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">=&gt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">`Index ${</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">index</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">}: ${</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">value</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">}`</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">Index 0: 1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">Index 1: 2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">Index 2: 3</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">Index 100: test</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">*/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Object</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">getOwnPropertyDescriptors</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(arr))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">/*{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;0&#39;: { value: 1, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;1&#39;: { value: 2, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;2&#39;: { value: 3, writable: true, enumerable: true, configurable: true },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  &#39;100&#39;: { value: &#39;test&#39;, writable: true, enumerable: true, configurable: true},</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  length: { value: 101, writable: true, enumerable: false, configurable: false}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">}*/</span></span></span></code></pre>\n<p>이러한 배열의 인덱스 할당이 가능한 이유는 JavaScript 배열이 근본적으로 객체이기 때문입니다. 배열의 인덱스는 객체의 <strong>프로퍼티 키</strong>처럼 동작하며, 인덱스를 지정해 값을 할당하면 <strong>해당 인덱스에 프로퍼티가 추가되는 형태</strong>로 동작합니다. 더불어 <code>length</code> 프로퍼티도 자동으로 갱신됩니다.</p>\n<p>희소배열은 위와 같이 연속된 데이터 관리가 이루어지지않습니다. 이는 JavaScript 엔진 입장에서 <strong>밀집 배열에 비해 최적화된 메모리 접근이 어려워지고</strong>, 인덱스 접근이 <strong>비효율적이 될 가능성</strong>이 크며, <strong>인덱스 접근 시 O(1)을 보장하지 못하는 경우가 발생할 수 있습니다.</strong></p>\n<p>따라서 <strong>배열을 사용할 때는 가능하다면 밀집 배열 형태를 유지하는 것이 성능 면에서 유리</strong>합니다.</p>\n<br/>\n<h2>밀집 배열 vs 희소 배열 : 성능 비교</h2>\n<p>JavaScript 배열의 성능은 밀집 배열인지 희소 배열인지에 따라 크게 달라질 수 있습니다.</p>\n<p>밀집 배열에서는 일반적인 배열처럼 **O(1)**의 성능을 보장할 수 있지만, 희소 배열의 경우 인덱스 접근 시 객체의 프로퍼티 조회와 유사하게 동작하기 때문에 성능 저하가 발생할 수 있습니다.</p>\n<p>하단 코드를 통해 밀집 배열과 희소 배열의 요소 접근 시간과 요소 삭제 시간의 성능 차이를 간단한 실험을 통해 비교해 보겠습니다.</p>\n<p><strong>실험 목적</strong></p>\n<ul>\n<li><strong>배열의 요소 접근 시간</strong>을 비교하여 밀집 배열과 희소 배열의 성능 차이를 확인</li>\n<li><strong>배열 요소 삭제 시간</strong>을 비교하여 두 배열의 동작 방식이 성능에 어떤 영향을 미치는지 확인</li>\n</ul>\n<p><strong>실험 코드</strong></p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 밀집 배열(Dense Array) 실험</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;밀집 배열 실험 시작&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> denseArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1000000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">++</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    denseArray.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">push</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(i);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">time</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;밀집 배열 접근 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1000000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">++</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> value </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> denseArray[i];  </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 모든 요소에 접근</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">timeEnd</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;밀집 배열 접근 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">time</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;밀집 배열 중간 요소 삭제 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">denseArray.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">splice</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">500000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);  </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 배열 중간에서 요소 하나 삭제</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">timeEnd</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;밀집 배열 중간 요소 삭제 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 희소 배열(Sparse Array) 실험</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">log</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">\\n</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">희소 배열 실험 시작&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> sparseArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1000000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">**</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">할당 간격</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">**</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    sparseArray[i] </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">time</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;희소 배열 접근 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1000000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">++</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> value </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> sparseArray[i];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">timeEnd</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;희소 배열 접근 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">time</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;희소 배열 중간 요소 삭제 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">delete</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> sparseArray[</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">500000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">];  </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// 배열 중간에서 요소 하나 삭제</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">console</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">timeEnd</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;희소 배열 중간 요소 삭제 시간&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span></code></pre>\n<p>해당 실험의 <strong>핵심 부분</strong>은 희소 배열(Sparse Array)의 요소를 할당하는 <strong>간격</strong>입니다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1000000</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">**</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">할당 간격</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">**</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    sparseArray[i] </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<p><strong>실험 결과</strong></p>\n<p><strong><code>할당 간격 = 10</code></strong></p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 접근 시간: 1.222ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 중간 요소 삭제 시간: 0.084ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 접근 시간: 1.254ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 중간 요소 삭제 시간: 0.002ms</span></span></code></pre>\n<br/>\n<p><strong><code>할당 간격 = 11</code></strong></p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 접근 시간: 1.435ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 중간 요소 삭제 시간: 0.09ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 접근 시간: 1.124ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 중간 요소 삭제 시간: 0.002ms</span></span></code></pre>\n<br/>\n<p><strong><code>할당 간격 = 12</code></strong></p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 접근 시간: 1.153ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 중간 요소 삭제 시간: 0.075ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 접근 시간: 33.362ms -&gt; 갑자기 증가한 모습</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 중간 요소 삭제 시간: 0.002ms</span></span></code></pre>\n<br/>\n<p><strong><code>할당 간격 = 100</code></strong></p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 접근 시간: 1.205ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">밀집 배열 중간 요소 삭제 시간: 0.133ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 실험 시작</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 접근 시간: 32.288ms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">희소 배열 중간 요소 삭제 시간: 0.003ms</span></span></code></pre>\n<p><strong>결과 분석</strong></p>\n<ul>\n<li><code>할당 간격 = 11</code> 까지는 오히려 희소 배열 접근 시간이 밀집 배열 접근 시간보다 적은 시간이 걸렸습니다.</li>\n<li><code>핵심 부분 = 12</code> 를 기준으로 희소 배열 접근 시간이 크게 증가함을 볼 수 있었습니다. (12 이상 숫자는 대부분 비슷한 측정 시간이었습니다.)\n<ul>\n<li>이는 JavaScript 엔진이 해당 지점부터 희소 배열을 밀집 배열로 최적화하지 않고 일반 객체처럼 처리해서 나타나는 현상일 가능성이 높아보입니다.</li>\n</ul>\n</li>\n<li>밀집 배열의 접근 시간은 대게 동일한 시간이 측정되었습니다.</li>\n<li>더불어 중간 요소 삭제 시간은 객체로 처리된 희소 배열에서 더 적은 시간을 보여주었습니다.</li>\n</ul>\n<p>밀집 배열은 항상 빠른 접근 성능을 제공하지만, 희소 배열은 할당 간격이 일정 수준을 초과하면 성능이 급격히 저하되는 것을 확인할 수 있었습니다.</p>\n<p><strong>이는 JavaScript 엔진이 배열을 밀집 형태로 최적화할 수 없을 때, 객체와 같은 방식으로 배열을 처리하기 때문입니다.</strong></p>\n<p>여기서 얻을 수 있는 가장 중요한 사실은, JavaScript 배열이 O(1) 성능을 보장할 수 있는 조건은 배열이 밀집된 형태로 요소를 관리하는 경우라는 것입니다.</p>\n<p>희소 배열이나 타입이 혼합된 배열에서는 JavaScript 배열이 일반 객체처럼 동작하여 성능 저하가 발생할 수 밖에 없습니다.</p>\n<br/>\n<h2>JavaScript 엔진의 최적화와 배열</h2>\n<p>앞서 <strong>밀집 배열</strong>과 <strong>희소 배열</strong>의 성능 비교 실험을 통해 배열의 형태에 따라 성능이 크게 달라질 수 있음을 확인했습니다.</p>\n<p><strong>JavaScript 엔진은 밀집 배열을 최대한 유지하려고 합니다.</strong> 그 이유는 밀집 배열이 <strong>빠른 인덱스 접근, 캐시 효율성, 그리고 최적화 용이성</strong> 측면에서 희소 배열보다 더 나은 성능을 제공하기 때문입니다. 이는 최적화하는 엔진의 입장에서도, 이를 사용하는 사용자 입장에서도 장점이 됩니다.</p>\n<p>밀집 배열과 희소 배열의 구분 이외에도 JavaScript 엔진은 배열을 처리하고 최적화하는 다양한 과정을 거칩니다. 이제 엔진이 배열을 어떻게 최적화하고 효율적으로 관리하는지에 대해 살펴보겠습니다.</p>\n<br/>\n<h3><strong>1. JavaScript 배열의 참조 기반 요소 저장</strong></h3>\n<p>JavaScript 배열은 일반적인 C/C++의 배열과는 달리, 배열의 각 요소가 **참조(reference)**로 저장됩니다. 이는 배열 요소들이 다양한 타입(숫자, 문자열, 객체 등)으로 구성될 수 있기 때문에, 각 요소가 실제 값을 직접 저장하는 방식을 사용하지 않고 <strong>메모리 위치에 대한 참조를</strong> 저장하는 방식을 사용하는 의미입니다.</p>\n<p>인덱스 요소로 <strong>참조</strong>를 저장하기에 배열 요소의 크기는 모든 인덱스에서 동일하게 취급됩니다. 그래서 배열의 내부에서는 다양한 타입의 요소들이 있더라도, <strong>인덱스마다 필요한 저장 공간</strong>은 동일합니다.</p>\n<p>이러한 구조 덕분에 배열의 요소가 다양한 타입으로 섞여 있어도, 배열의 시작 주소와 인덱스를 이용해 해당 참조에 접근함으로써 일정한 시간 내에 배열 요소를 조회할 수 있습니다.</p>\n<br/>\n<h3><strong>2.<code>Elements Kinds</code> 를 이용한 최적화</strong></h3>\n<p>V8 엔진은 배열의 요소들을 관리하기 위해 <strong>Elements Kinds</strong>라는 개념을 사용합니다.</p>\n<p>이는 배열의 모든 요소들이 모두 동일한 타입인지, 다양한 타입이 섞여 있는지를 기준으로 배열을 <strong>최적화된 형태로 관리</strong>하는 방식입니다.</p>\n<p>V8 엔진에서 사용되는 몇 가지 <strong>Elements Kinds</strong>는 다음과 같습니다.</p>\n<ul>\n<li>\n<p><strong>PACKED_SMI_ELEMENTS</strong>: 모든 요소가 작은 정수(Small Integer)인 경우 최적화된 형태.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> smiArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">4</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">5</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>PACKED_DOUBLE_ELEMENTS</strong>: 모든 요소가 부동 소수점 숫자인 경우.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> doubleArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1.1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2.2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3.3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">4.4</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">5.5</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>PACKED_ELEMENTS</strong>: 혼합된 타입의 요소를 포함하는 경우.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> mixedArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;two&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, { three: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> }]</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>HOLEY_SMI_ELEMENTS</strong>: 위의 각 타입에 대해, 중간에 빈 요소가 있는 경우.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"jsx\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> holeySmiArray </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, , </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, , </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">5</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span></code></pre>\n</li>\n</ul>\n<p>이렇게 V8엔진은 배열의 모든 요소 확인한 후 나름대로 <strong>최척화 스탠스</strong>를 정합니다.</p>\n<p>각각 <strong>Elements Kinds</strong>는 배열의 요소 타입에 맞게 최적화하여, 특정 상황에서는 더 빠른 메모리 접근이 가능하게 만들어줍니다.</p>\n<br/>\n<h3>3. 다양한 타입의 배열과 동적 최적화</h3>\n<p>JavaScript 배열은 여러 타입의 요소를 가질 수 있지만, 엔진은 배열의 요소 타입을 가능한 일관되게 유지하려고 합니다. 배열의 요소 타입이 일관된 경우 <strong>더 높은 수준의 최적화</strong>를 적용할 수 있기 때문입니다.</p>\n<p>그러나 배열 내에 다양한 요소가 존재하여 더 이상 하나의 타입으로 처리할 수 없는 경우, JavaScript 엔진은 배열의 내부 구조를 <strong>일반적인 객체 형태</strong>로 전환하게 됩니다.</p>\n<p>이 과정에서 메모리 관리와 최적화가 다시 적용되어, 배열의 관리 방식을 더 유연한 형태로 조정합니다. 이러한 변화는 엔진의 최적화 수준이 낮아짐을 의미하며, 더 이상 연속된 메모리 블록으로 효율적으로 관리되지 않을 수 있습니다.</p>\n<p>추가로 이 과정에서 <strong>V8</strong>은 **히든 클래스(Hidden Class)**라는 내부 구조를 사용합니다. 히든 클래스는 배열이나 객체의 속성에 대한 <strong>메모리 레이아웃을 최적화</strong>하여, 엔진이 이러한 속성들에 빠르게 접근할 수 있도록 돕습니다.</p>\n<p>히든클래스에 대해 더 알아보시고 싶으신 분은 해당 글을 참고해보시면 좋을 것 같습니다.</p>\n<p>→ <a href=\"https://engineering.linecorp.com/ko/blog/v8-hidden-class\">https://engineering.linecorp.com/ko/blog/v8-hidden-class</a></p>\n<p>이러한 내부 최적화 덕분에 JavaScript는 배열에 여러 타입의 요소가 존재함에도 불구하고, 인덱스를 통한 접근이 <strong>O(1)</strong> 시간복잡도로 이루어질 수 있습니다.</p>\n<br/>\n<h2><strong>인덱스 접근, O(1) 보장하기 위해서</strong></h2>\n<p>개인적으로 배열의 인덱스 접근의 시간복잡도가 O(1)이 보장되지 않는다면 굳이 배열을 사용할 필요가 없다는 생각합니다. 배열의 주요 장점은 가장 빠르게 요소 접근이 가능하다는 점이기 때문입니다.</p>\n<p>그래서 제 나름대로 항상 <strong>O(1)의 성능을 유지하기 위해서 배열을 어떻게 다뤄야할지</strong> 다짐(?)해보았습니다.</p>\n<ol>\n<li><strong>하나의 타입으로 배열을 구성하기</strong> : 최적화된 Elements Kind를 할당 받으려 노력하자.</li>\n<li><strong>밀집 배열 유지하기(희소 배열 사용 지양하기)</strong> : 배열의 빈공간은 최적화하는 JavaScript 엔진의 입장에서 꽤나 방해요소일테다.</li>\n<li><strong>배열 크기 미리 할당하기 :</strong> 동적으로 배열이 커지는 상황에서 발생할 수 있는 새로운 메모리를 할당하는 상황을 만들지 않도록 하자.</li>\n<li><strong>불필요한 배열 재구성하지 않기</strong> : 배열의 요소 타입을 빈번하게 변경하거나, 배열 내에 다른 객체나 배열을 추가하면 엔진이 기존의 <strong>Elements Kind</strong>를 폐기하고 새로운 형태로 배열을 재구성하기에 이 점을 유의하도록 하자.</li>\n</ol>\n<h2>참고</h2>\n<ul>\n<li><strong>모던 자바스크립트 Deep Dive</strong></li>\n<li><a href=\"https://devkly.com/nodejs/javascript-array/\">https://devkly.com/nodejs/javascript-array/</a></li>\n<li><a href=\"https://engineering.linecorp.com/ko/blog/v8-hidden-class\">https://engineering.linecorp.com/ko/blog/v8-hidden-class</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .github-light-theme {\n    background-color: #ffffff;\n    color: #000000;\n  }\n  .github-light-theme .grvsc-tiszgT-5 { color: #D73A49; }\n  .github-light-theme .grvsc-tiszgT-1 { color: #000000; }\n  .github-light-theme .grvsc-tiszgT-7 { color: #005CC5; }\n  .github-light-theme .grvsc-tiszgT-8 { color: #032F62; }\n  .github-light-theme .grvsc-tiszgT-6 { color: #6A737D; }\n  .github-light-theme .grvsc-tiszgT-11 { color: #E36209; }\n  .github-light-theme .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body[data-theme=dark] .grvsc-ps-t4tStz { color: #ffffff; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-9 { color: #EB7E81; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-1 { color: #FFFFFF; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-3 { color: #66B5F6; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-10 { color: #9DCDF5; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-2 { color: #A19B8F; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-5 { color: #BB97E7; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-6 { color: #F39961; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","frontmatter":{"title":"왜 자바스크립트 배열의 인덱스 접근은 O(1)일까?","desc":"자바스크립트 ","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA20lEQVR42o2RwW7CMBBE+RZKwCFAHNZWYps0DSFVUQuBC+L/f2RYE7CUigOHJ4927ZFndyQWCp74BX1PQyz1o6YHhLdLFfToKaKE8JGsMWYmd02YeWKJqZCI5r6WBqZ8L7zlnljQ0HAjLfaqxDeV2NEGbeYg1SfS6ox894eqKLGlDq0+oVEdajrAGoXmi2Bdgfkqh+APBEOXGbTUG9Zrh4bJWK/KDvb3Cpdb/OjLw/AIldYwhtBU3tAgkcU90b/Ifezn6WPNYo4XZ6yJRyFD5GgQ+cUM31mKeGMpN1q+vH5Ydnr9AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/5de658615c8caf070867a616745ea5cb/d1b75/1.png","srcSet":"/static/5de658615c8caf070867a616745ea5cb/d1b75/1.png 1388w","sizes":"1388px"},"sources":[{"srcSet":"/static/5de658615c8caf070867a616745ea5cb/6d303/1.webp 1388w","type":"image/webp","sizes":"1388px"}]},"width":1388,"height":414}}},"date":"2024-10-01","category":"JavaScript"}}},"pageContext":{"slug":"/blog/js-array/"}},"staticQueryHashes":["1840460387"],"slicesMap":{}}